<div class="container mt-5">
  <div class="row">
    <div class="col-12 col-sm-12 col-md-6 col-lg-4">
      <div class="card">
        @if (!imagePerview) {
        <img src="assets/images/user.webp" alt="user-image" />
        } @else {
        <img [src]="imagePerview" alt="user-image" />
        }
        <input
          type="file"
          class="form-control"
          name="photo"
          id="photo"
          aria-describedby="helpId"
          placeholder="Photo"
          (change)="onFileChange($event)"
        />
      </div>
    </div>
    <div class="col-12 col-sm-12 col-md-6 col-lg-8 mt-sm-5">
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="" class="form-label text-capitalize">Display Name</label>
          <input
            type="text"
            class="form-control"
            name="displayName"
            id="displayName"
            aria-describedby="helpId"
            placeholder="Display Name"
            formControlName="displayName"
          />
          @if (this.userForm.get('displayName')?.touched &&
          this.userForm.get('displayName')?.invalid) {
          <small id="helpId" class="form-text text-danger">
            display name is required
          </small>
          }
        </div>
        <div class="row">
          <div class="col-6">
            <div class="mb-3">
              <label for="" class="form-label text-capitalize"
                >frist name</label
              >
              <input
                type="text"
                class="form-control"
                name="firstName"
                id="firstName"
                aria-describedby="helpId"
                placeholder="First Name"
                formControlName="firstName"
              />
              @if (this.userForm.get('firstName')?.touched &&
              this.userForm.get('firstName')?.invalid) {
              <small id="helpId" class="form-text text-danger">
                display name is required
              </small>
              }
            </div>
          </div>
          <div class="col-6">
            <div class="mb-3">
              <label for="" class="form-label text-capitalize"
                >last name
              </label>
              <input
                type="text"
                class="form-control"
                name="lastName"
                id="lastName"
                aria-describedby="helpId"
                placeholder="Last Name"
                formControlName="lastName"
              />
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="" class="form-label text-capitalize"
            >about yourself</label
          >
          <textarea
            class="form-control"
            name="about"
            id="about"
            rows="3"
            formControlName="aboutYourSelf"
          ></textarea>
          @if (this.userForm.get('aboutYourSelf')?.touched &&
          this.userForm.get('aboutYourSelf')?.invalid) {
          <small id="helpId" class="form-text text-danger">
            max 100 char
          </small>
          }
        </div>
        <div class="mb-3">
          <select
            class="form-select"
            aria-label="multiple select example"
            multiple
            size="3"
            formControlName="interests"
          >
            <option>Select Your Interests</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
            <option value="3">Four</option>
            <option value="3">Five</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-check-label text-capitalize"
            >are you a student or professional?</label
          >
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userType"
              id="flexRadioDefault1"
              value="student"
              formControlName="userType"
            />
            <label class="form-check-label" for="flexRadioDefault1">
              Student
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userType"
              id="flexRadioDefault2"
              value="professional"
              formControlName="userType"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              Professional
            </label>
          </div>
        </div>
        @if (this.userForm.get('userType')?.value == 'professional') {
        <div class="mb-3">
          <label class="form-check-label text-capitalize">Experience?</label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userExpreince"
              id="flexRadioDefault1"
              value="0-5"
              formControlName="userExpreince"
            />
            <label class="form-check-label" for="flexRadioDefault1">
              0-5
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userExpreince"
              id="flexRadioDefault2"
              value="5-10"
              formControlName="userExpreince"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              5-10
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="userExpreince"
              id="flexRadioDefault2"
              value="10 & above"
              formControlName="userExpreince"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              10 & above
            </label>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-check-label text-capitalize">expertise?</label>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="expertise"
              id="flexRadioDefault1"
              value="frontend"
              formControlName="expertise"
            />
            <label class="form-check-label" for="flexRadioDefault1">
              frontend
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="expertise"
              id="flexRadioDefault2"
              value="backend"
              formControlName="expertise"
            />
            <label class="form-check-label" for="flexRadioDefault2">
              backend
            </label>
          </div>
        </div>
        }
        <div class="mb-3">
          <label for="" class="form-label text-capitalize"
            >mention your role</label
          >
          <textarea
            class="form-control"
            name="role"
            id="role"
            rows="3"
            formControlName="role"
          ></textarea>
          @if (this.userForm.get('role')?.touched &&
          this.userForm.get('role')?.invalid) {
          <small id="helpId" class="form-text text-danger">
            max 100 char
          </small>
          }
        </div>
        <button
          type="submit"
          [disabled]="(userForm.invalid && !userForm.touched) || !isFormChanged"
          class="btn btn-primary"
        >
          Update
        </button>
      </form>
    </div>
  </div>
</div>
